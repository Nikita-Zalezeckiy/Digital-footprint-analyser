<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä —Ü–∏—Ñ—Ä–æ–≤–æ–≥–æ —Å–ª–µ–¥–∞</title>
    <link rel="stylesheet" href="main.css" />
    <style>
      /* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏–∏ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ */
      .screen {
        display: none;
      }
      .screen.active {
        display: block;
      }
      button {
        cursor: pointer;
      }

      /* –§–∏–∫—Å—ã –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–≤ */
      .progress-container {
        width: 100%;
        box-sizing: border-box;
      }
      .progress-bar,
      .category-bar,
      .risk-bar {
        box-sizing: border-box;
      }

      /* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ */
      .category-bar,
      .risk-bar {
        width: 100%;
        height: 16px;
        background: #e9ecef;
        border-radius: 8px;
        overflow: hidden;
        margin: 10px 0;
        position: relative;
        box-sizing: border-box;
      }

      .category-fill,
      .risk-fill {
        height: 100%;
        transition: width 0.5s ease;
        border-radius: 8px;
        max-width: 100%;
        display: block;
        position: absolute;
        left: 0;
        top: 0;
      }
    </style>
  </head>
  <body>
    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
    <div class="app-header">
      <h1>–ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä —Ü–∏—Ñ—Ä–æ–≤–æ–≥–æ —Å–ª–µ–¥–∞</h1>
    </div>

    <!-- –≠–∫—Ä–∞–Ω 1: –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ -->
    <div id="screen1" class="screen active">
      <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</h2>
      <p>
        –≠—Ç–æ—Ç —Ç–µ—Å—Ç –ø–æ–º–æ–∂–µ—Ç –æ—Ü–µ–Ω–∏—Ç—å –≤–∞—à—É —É—è–∑–≤–∏–º–æ—Å—Ç—å –≤ —Ü–∏—Ñ—Ä–æ–≤–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ –∏ –¥–∞—Å—Ç
        —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.
      </p>
      <p>
        <strong
          >–û—Ç–≤–µ—Ç—å—Ç–µ —á–µ—Å—Ç–Ω–æ –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ—á–Ω–æ–≥–æ
          —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.</strong
        >
      </p>
      <center>
        <button onclick="resetTest(); showScreen('screen2')">
          –ù–∞—á–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É
        </button>
      </center>
    </div>

    <!-- –≠–∫—Ä–∞–Ω 2: –û–ø—Ä–æ—Å–Ω–∏–∫ -->
    <div id="screen2" class="screen">
      <h2>–û—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã</h2>
      <div id="questionsContainer">
        <!-- –í–æ–ø—Ä–æ—Å—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è —á–µ—Ä–µ–∑ JavaScript -->
      </div>
    </div>

    <!-- –≠–∫—Ä–∞–Ω 3: –†–µ–∑—É–ª—å—Ç–∞—Ç—ã -->
    <div id="screen3" class="screen">
      <h2>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏</h2>
      <div id="results">
        <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è —á–µ—Ä–µ–∑ JavaScript -->
      </div>
      <center>
        <button onclick="resetTest(); showScreen('screen1')">
          –ü—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç –∑–∞–Ω–æ–≤–æ
        </button>
      </center>
    </div>

    <!-- –§—É—Ç–µ—Ä -->
    <div class="app-footer">
      –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä —Ü–∏—Ñ—Ä–æ–≤–æ–≥–æ —Å–ª–µ–¥–∞ ‚Ä¢ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
    </div>

    <script>
      // –ë–∞–∑–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
      var questions = [
        // –ü–∞—Ä–æ–ª–∏ –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
        {
          text: "–ò—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ª–∏ –≤—ã –≤ –ø–∞—Ä–æ–ª—è—Ö –ª–∏—á–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é (–¥–∞—Ç—É —Ä–æ–∂–¥–µ–Ω–∏—è, –∏–º—è –ø–∏—Ç–æ–º—Ü–∞)?",
          category: "–ü–∞—Ä–æ–ª–∏",
          weights: {
            –î–∞: 3,
            –ò–Ω–æ–≥–¥–∞: 1,
            –ù–µ—Ç: 0,
          },
        },
        {
          text: "–ò—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ª–∏ –≤—ã –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –ø–∞—Ä–æ–ª—å –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å–∞–π—Ç–æ–≤?",
          category: "–ü–∞—Ä–æ–ª–∏",
          weights: {
            –î–∞: 3,
            –ò–Ω–æ–≥–¥–∞: 2,
            –ù–µ—Ç: 0,
          },
        },
        {
          text: "–í–∫–ª—é—á–∏–ª–∏ –ª–∏ –≤—ã –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –≤ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö?",
          category: "–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è",
          weights: {
            –î–∞: -2,
            –ù–µ—Ç: 2,
          },
        },
        {
          text: "–ò—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ª–∏ –≤—ã –º–µ–Ω–µ–¥–∂–µ—Ä –ø–∞—Ä–æ–ª–µ–π?",
          category: "–ü–∞—Ä–æ–ª–∏",
          weights: {
            –î–∞: -2,
            –ù–µ—Ç: 1,
          },
        },

        // –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏ –∏ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å
        {
          text: "–í–∞—à –ø—Ä–æ—Ñ–∏–ª—å –≤ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç—è—Ö –æ—Ç–∫—Ä—ã—Ç –¥–ª—è –≤—Å–µ—Ö?",
          category: "–°–æ—Ü—Å–µ—Ç–∏",
          weights: {
            –î–∞: 2,
            –ò–Ω–æ–≥–¥–∞: 1,
            –ù–µ—Ç: 0,
          },
        },
        {
          text: "–ü—É–±–ª–∏–∫—É–µ—Ç–µ –ª–∏ –≤—ã –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏?",
          category: "–ì–µ–æ–¥–∞–Ω–Ω—ã–µ",
          weights: {
            –î–∞: 3,
            –ò–Ω–æ–≥–¥–∞: 1,
            –ù–µ—Ç: 0,
          },
        },
        {
          text: "–ü—Ä–æ–≤–µ—Ä—è–ª–∏ –ª–∏ –≤—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ –≤ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç—è—Ö –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 6 –º–µ—Å—è—Ü–µ–≤?",
          category: "–°–æ—Ü—Å–µ—Ç–∏",
          weights: {
            –î–∞: -1,
            –ù–µ—Ç: 2,
          },
        },
        {
          text: "–ü—É–±–ª–∏–∫—É–µ—Ç–µ –ª–∏ –≤—ã –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –¥–æ—Å—Ç—É–ø–µ –ª–∏—á–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é (–Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞, –∞–¥—Ä–µ—Å)?",
          category: "–õ–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è",
          weights: {
            –î–∞: 3,
            –ù–µ—Ç: 0,
          },
        },
        {
          text: "–ò—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ª–∏ –≤—ã –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –Ω–∏–∫–Ω–µ–π–º—ã –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Å–∞–π—Ç–∞—Ö?",
          category: "–ê–Ω–æ–Ω–∏–º–Ω–æ—Å—Ç—å",
          weights: {
            –î–∞: 2,
            –ò–Ω–æ–≥–¥–∞: 1,
            –ù–µ—Ç: 0,
          },
        },

        // –ü–æ–≤–µ–¥–µ–Ω–∏–µ –≤ —Å–µ—Ç–∏
        {
          text: "–ü–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –ª–∏ –≤—ã –ø–æ —Å—Å—ã–ª–∫–∞–º –≤ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–∏—Å—å–º–∞—Ö?",
          category: "–§–∏—à–∏–Ω–≥",
          weights: {
            –î–∞: 3,
            –ù–µ—Ç: 0,
          },
        },
        {
          text: "–°–æ—Ö—Ä–∞–Ω—è–µ—Ç–µ –ª–∏ –≤—ã —Å–µ–∞–Ω—Å –≤—Ö–æ–¥–∞ –Ω–∞ –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∫–æ–º–ø—å—é—Ç–µ—Ä–∞—Ö?",
          category: "–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å",
          weights: {
            –î–∞: 3,
            –ù–µ—Ç: 0,
          },
        },
        {
          text: "–ü—Ä–∏–Ω–∏–º–∞–µ—Ç–µ –ª–∏ –≤—ã –≤—Å–µ cookies –Ω–∞ —Å–∞–π—Ç–∞—Ö, –Ω–µ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏?",
          category: "–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ",
          weights: {
            –î–∞: 2,
            –ù–µ—Ç: 0,
          },
        },
        {
          text: "–û—Ç–∫–ª—é—á–∞–ª–∏ –ª–∏ –≤—ã –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Ä–µ–∫–ª–∞–º—É –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —É—á–µ—Ç–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π?",
          category: "–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å",
          weights: {
            –î–∞: -1,
            –ù–µ—Ç: 1,
          },
        },

        // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏ –∏ –¥–∞–Ω–Ω—ã–º–∏
        {
          text: "–û—Å—Ç–∞–≤–ª—è–µ—Ç–µ –ª–∏ –≤—ã —Å–≤–æ–∏ –∞–∫–∫–∞—É–Ω—Ç—ã –Ω–∞ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Å–∞–π—Ç–∞—Ö?",
          category: "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏",
          weights: {
            –î–∞: 2,
            –ù–µ—Ç: 0,
          },
        },
        {
          text: "–ü—Ä–æ–≤–µ—Ä—è–µ—Ç–µ –ª–∏ –≤—ã –∞–∫—Ç–∏–≤–Ω—ã–µ —Å–µ—Å—Å–∏–∏ –≤ —Å–≤–æ–∏—Ö –∞–∫–∫–∞—É–Ω—Ç–∞—Ö?",
          category: "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥",
          weights: {
            –î–∞: -1,
            –ù–µ—Ç: 1,
          },
        },
        {
          text: "–£–¥–∞–ª—è–ª–∏ –ª–∏ –≤—ã –∫–æ–≥–¥–∞-–ª–∏–±–æ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã?",
          category: "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏",
          weights: {
            –î–∞: -1,
            –ù–µ—Ç: 1,
          },
        },

        // –û—Å–≤–µ–¥–æ–º–ª–µ–Ω–Ω–æ—Å—Ç—å –∏ –æ–±—É—á–µ–Ω–∏–µ
        {
          text: "–ß–∏—Ç–∞–µ—Ç–µ –ª–∏ –≤—ã –ø–æ–ª–∏—Ç–∏–∫—É –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –Ω–æ–≤—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤?",
          category: "–û—Å–≤–µ–¥–æ–º–ª–µ–Ω–Ω–æ—Å—Ç—å",
          weights: {
            –î–∞: -1,
            –ù–µ—Ç: 1,
          },
        },
        {
          text: "–ó–Ω–∞–µ—Ç–µ –ª–∏ –≤—ã, –∫–∞–∫ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å—Ç–æ—Ä–∏—é —Å–≤–æ–∏—Ö —Ü–∏—Ñ—Ä–æ–≤—ã—Ö —Å–ª–µ–¥–æ–≤ (–∏—Å—Ç–æ—Ä–∏—é –ø–æ–∏—Å–∫–∞, –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å)?",
          category: "–û—Å–≤–µ–¥–æ–º–ª–µ–Ω–Ω–æ—Å—Ç—å",
          weights: {
            –î–∞: -1,
            –ù–µ—Ç: 1,
          },
        },
        {
          text: "–û–±–Ω–æ–≤–ª—è–µ—Ç–µ –ª–∏ –≤—ã –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –∏ –∞–Ω—Ç–∏–≤–∏—Ä—É—Å–Ω–æ–µ –ü–û —Ä–µ–≥—É–ª—è—Ä–Ω–æ?",
          category: "–ó–∞—â–∏—Ç–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤",
          weights: {
            –î–∞: -2,
            –ù–µ—Ç: 2,
          },
        },
        {
          text: "–ó–Ω–∞–µ—Ç–µ –ª–∏ –≤—ã, –∫–∞–∫ –∑–∞–ø—Ä–æ—Å–∏—Ç—å —É–¥–∞–ª–µ–Ω–∏–µ –ª–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —É —Å–µ—Ä–≤–∏—Å-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤?",
          category: "–ü—Ä–∞–≤–∞ –Ω–∞ –¥–∞–Ω–Ω—ã–µ",
          weights: {
            –î–∞: -1,
            –ù–µ—Ç: 1,
          },
        },
        {
          text: "–ò—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ª–∏ –≤—ã –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–π Wi-Fi –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –±–∞–Ω–∫–æ–≤—Å–∫–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º?",
          category: "–°–µ—Ç–µ–≤–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å",
          weights: {
            –î–∞: 3,
            –ù–µ—Ç: 0,
          },
        },
        {
          text: "–î–µ–ª–∞–µ—Ç–µ –ª–∏ –≤—ã —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ –≤–∞–∂–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö?",
          category: "–ó–∞—â–∏—Ç–∞ –¥–∞–Ω–Ω—ã—Ö",
          weights: {
            –î–∞: -2,
            –ù–µ—Ç: 1,
          },
        },
      ];

      var userAnswers = [];
      var totalRisk = 0;

      // –§—É–Ω–∫—Ü–∏—è —Å–±—Ä–æ—Å–∞ —Ç–µ—Å—Ç–∞
      function resetTest() {
        userAnswers = [];
        totalRisk = 0;

        // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä
        var progressFill = document.getElementById("progressFill");
        var progressText = document.getElementById("progressText");
        if (progressFill) progressFill.style.width = "0%";
        if (progressText)
          progressText.innerHTML = "–í–æ–ø—Ä–æ—Å 0 –∏–∑ " + questions.length + " (0%)";

        console.log("–¢–µ—Å—Ç —Å–±—Ä–æ—à–µ–Ω");
      }

      // –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —ç–∫—Ä–∞–Ω–æ–≤
      function showScreen(screenId) {
        console.log("–ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º –Ω–∞ —ç–∫—Ä–∞–Ω: " + screenId);

        // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —ç–∫—Ä–∞–Ω—ã
        var screens = document.querySelectorAll(".screen");
        for (var i = 0; i < screens.length; i++) {
          screens[i].classList.remove("active");
        }

        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω—É–∂–Ω—ã–π —ç–∫—Ä–∞–Ω
        var targetScreen = document.getElementById(screenId);
        if (targetScreen) {
          targetScreen.classList.add("active");
        } else {
          console.error("–≠–∫—Ä–∞–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω: " + screenId);
        }

        // –ï—Å–ª–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ —ç–∫—Ä–∞–Ω —Å –≤–æ–ø—Ä–æ—Å–∞–º–∏, –æ–±–Ω–æ–≤–ª—è–µ–º –∏—Ö
        if (screenId === "screen2") {
          renderQuestions();
        }
      }

      // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤–æ–ø—Ä–æ—Å–æ–≤
      function renderQuestions() {
        var container = document.getElementById("questionsContainer");
        if (!container) {
          console.error("–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤–æ–ø—Ä–æ—Å–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω!");
          return;
        }

        var html = "";

        // –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä
        html += '<div class="progress-container">';
        html += '<div class="progress-bar">';
        html +=
          '<div class="progress-fill" id="progressFill" style="width: 0%"></div>';
        html += "</div>";
        html +=
          '<p id="progressText">–í–æ–ø—Ä–æ—Å 0 –∏–∑ ' + questions.length + " (0%)</p>";
        html += "</div>";

        for (var i = 0; i < questions.length; i++) {
          html += '<div class="question" id="question' + i + '">';
          html +=
            "<p><strong>" +
            (i + 1) +
            ". " +
            questions[i].text +
            "</strong></p>";
          html += '<div class="answer-buttons">';

          // –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ–º –∫–Ω–æ–ø–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
          var weights = questions[i].weights;
          var answers = Object.keys(weights);

          for (var j = 0; j < answers.length; j++) {
            var answer = answers[j];
            html +=
              '<button class="answer-btn" onclick="answerQuestion(' +
              i +
              ", '" +
              answer +
              "')\">" +
              answer +
              "</button>";
          }

          html += "</div>";
          html += "</div>";
        }

        container.innerHTML = html;
        updateProgress();
      }

      // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
      function updateProgress() {
        var answered = 0;
        for (var i = 0; i < userAnswers.length; i++) {
          if (userAnswers[i] !== undefined) answered++;
        }

        var progressPercentage = (answered / questions.length) * 100;
        var progressFill = document.getElementById("progressFill");
        var progressText = document.getElementById("progressText");

        if (progressFill) progressFill.style.width = progressPercentage + "%";
        if (progressText)
          progressText.innerHTML =
            "–í–æ–ø—Ä–æ—Å " +
            answered +
            " –∏–∑ " +
            questions.length +
            " (" +
            Math.round(progressPercentage) +
            "%)";
      }

      // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç–≤–µ—Ç–æ–≤
      function answerQuestion(questionIndex, answer) {
        var riskValue = questions[questionIndex].weights[answer];

        // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ç–≤–µ—Ç
        userAnswers[questionIndex] = {
          question: questions[questionIndex].text,
          answer: answer,
          risk: riskValue,
          category: questions[questionIndex].category,
        };

        // –ü–æ–¥—Å–≤–µ—á–∏–≤–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—É—é –∫–Ω–æ–ø–∫—É
        var questionElement = document.getElementById(
          "question" + questionIndex
        );
        if (questionElement) {
          var buttons = questionElement.getElementsByClassName("answer-btn");

          for (var i = 0; i < buttons.length; i++) {
            buttons[i].classList.remove("selected");
          }

          // –ù–∞—Ö–æ–¥–∏–º –∏ –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ–º –Ω–∞–∂–∞—Ç—É—é –∫–Ω–æ–ø–∫—É
          for (var i = 0; i < buttons.length; i++) {
            if (buttons[i].textContent === answer) {
              buttons[i].classList.add("selected");
              break;
            }
          }
        }

        // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å
        updateProgress();

        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –≤—Å–µ –ª–∏ –≤–æ–ø—Ä–æ—Å—ã –æ—Ç–≤–µ—á–µ–Ω—ã
        var answeredCount = 0;
        for (var i = 0; i < userAnswers.length; i++) {
          if (userAnswers[i] !== undefined) {
            answeredCount++;
          }
        }

        if (answeredCount === questions.length) {
          calculateResults();
        }
      }

      // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
      function getCategories() {
        var categories = [];
        for (var i = 0; i < questions.length; i++) {
          if (categories.indexOf(questions[i].category) === -1) {
            categories.push(questions[i].category);
          }
        }
        return categories;
      }

      // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–¥—Å—á–µ—Ç–∞ –±–∞–ª–ª–æ–≤ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
      function calculateCategoryScores() {
        var categories = getCategories();
        var categoryScores = {};

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –æ–±—ä–µ–∫—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–π
        for (var i = 0; i < categories.length; i++) {
          categoryScores[categories[i]] = {
            total: 0,
            max: 0,
            count: 0,
          };
        }

        // –°—á–∏—Ç–∞–µ–º –±–∞–ª–ª—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
        for (var i = 0; i < userAnswers.length; i++) {
          if (userAnswers[i]) {
            var category = questions[i].category;
            categoryScores[category].total += userAnswers[i].risk;
            categoryScores[category].count++;

            // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –≤–æ–∑–º–æ–∂–Ω—ã–π –±–∞–ª–ª –¥–ª—è —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (—Ç–æ–ª—å–∫–æ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è)
            var weights = questions[i].weights;
            var maxWeight = 0;
            var weightValues = Object.values(weights);

            for (var j = 0; j < weightValues.length; j++) {
              var weight = Math.max(weightValues[j], 0);
              if (weight > maxWeight) {
                maxWeight = weight;
              }
            }

            categoryScores[category].max += maxWeight;
          }
        }

        return categoryScores;
      }

      // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–¥—Å—á–µ—Ç–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
      function calculateResults() {
        totalRisk = 0;
        for (var i = 0; i < userAnswers.length; i++) {
          if (userAnswers[i]) {
            totalRisk += userAnswers[i].risk;
          }
        }
        // –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º, —á—Ç–æ —Ä–∏—Å–∫ –Ω–µ –±—É–¥–µ—Ç –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º
        if (totalRisk < 0) totalRisk = 0;
        showResults();
      }

      // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
      function getCategoryRecommendation(category, riskLevel) {
        var recommendations = {
          –ü–∞—Ä–æ–ª–∏: {
            high: "–°—Ä–æ—á–Ω–æ –Ω–∞—á–Ω–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ–Ω–µ–¥–∂–µ—Ä –ø–∞—Ä–æ–ª–µ–π –∏ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–∞–π—Ç–∞",
            medium:
              "–£–ª—É—á—à–∏—Ç–µ —Å–≤–æ–∏ –ø–∞—Ä–æ–ª–∏, —Å–¥–µ–ª–∞–π—Ç–µ –∏—Ö –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–º–∏ –∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏",
            low: "–ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ö–æ—Ä–æ—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ —Å–æ–∑–¥–∞–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π",
          },
          –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è: {
            high: "–í–∫–ª—é—á–∏—Ç–µ –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –≤–æ –≤—Å–µ—Ö –≤–∞–∂–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö",
            medium: "–î–æ–±–∞–≤—å—Ç–µ –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –≤ –æ—Å–Ω–æ–≤–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã",
            low: "–û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –ø–æ –∑–∞—â–∏—Ç–µ –∞–∫–∫–∞—É–Ω—Ç–æ–≤!",
          },
          –°–æ—Ü—Å–µ—Ç–∏: {
            high: "–°—Ä–æ—á–Ω–æ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏ –∏ –æ–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –≤–∞—à–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏",
            medium:
              "–ü–µ—Ä–µ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ –≤ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç—è—Ö",
            low: "–í—ã —Ö–æ—Ä–æ—à–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç–µ —Å–≤–æ—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç—è—Ö",
          },
          –ì–µ–æ–¥–∞–Ω–Ω—ã–µ: {
            high: "–ü—Ä–µ–∫—Ä–∞—Ç–∏—Ç–µ –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏",
            medium: "–ë—É–¥—å—Ç–µ –±–æ–ª–µ–µ –∏–∑–±–∏—Ä–∞—Ç–µ–ª—å–Ω—ã –≤ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –≥–µ–æ–¥–∞–Ω–Ω—ã—Ö",
            low: "–í—ã –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã —Å –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è",
          },
          "–õ–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è": {
            high: "–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ø—É–±–ª–∏–∫—É–π—Ç–µ –ª–∏—á–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –¥–æ—Å—Ç—É–ø–µ",
            medium: "–ë—É–¥—å—Ç–µ –æ—Å—Ç–æ—Ä–æ–∂–Ω–µ–µ —Å –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π –ª–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö",
            low: "–í—ã —Ö–æ—Ä–æ—à–æ –∑–∞—â–∏—â–∞–µ—Ç–µ —Å–≤–æ—é –ª–∏—á–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é",
          },
          –ê–Ω–æ–Ω–∏–º–Ω–æ—Å—Ç—å: {
            high: "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞–∑–Ω—ã–µ –ø—Å–µ–≤–¥–æ–Ω–∏–º—ã –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Å–∞–π—Ç–∞—Ö",
            medium: "–†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö –Ω–∏–∫–Ω–µ–π–º–æ–≤",
            low: "–•–æ—Ä–æ—à–∏–π —É—Ä–æ–≤–µ–Ω—å –∞–Ω–æ–Ω–∏–º–Ω–æ—Å—Ç–∏ –≤ —Å–µ—Ç–∏",
          },
          –§–∏—à–∏–Ω–≥: {
            high: "–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–∞–º –≤ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–∏—Å—å–º–∞—Ö",
            medium: "–ë—É–¥—å—Ç–µ –±–æ–ª–µ–µ –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã —Å —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–º–∏ –ø–∏—Å—å–º–∞–º–∏",
            low: "–í—ã –ø—Ä–æ—è–≤–ª—è–µ—Ç–µ —Ö–æ—Ä–æ—à—É—é –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å –≤ —Å–µ—Ç–∏",
          },
          –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: {
            high: "–ù–∏–∫–æ–≥–¥–∞ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–π—Ç–µ —Å–µ–∞–Ω—Å—ã –Ω–∞ –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö",
            medium:
              "–ë—É–¥—å—Ç–µ –æ—Å—Ç–æ—Ä–æ–∂–Ω–µ–µ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–≤",
            low: "–í—ã —Å–æ–±–ª—é–¥–∞–µ—Ç–µ —Ö–æ—Ä–æ—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏",
          },
          –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ: {
            high: "–ù–∞—á–Ω–∏—Ç–µ —É–ø—Ä–∞–≤–ª—è—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ cookies –∏ –æ—Ç–∫–ª—é—á–∞—Ç—å –Ω–µ–Ω—É–∂–Ω—ã–µ",
            medium: "–í–Ω–∏–º–∞—Ç–µ–ª—å–Ω–µ–µ –æ—Ç–Ω–æ—Å–∏—Ç–µ—Å—å –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è",
            low: "–í—ã —Ö–æ—Ä–æ—à–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤–∞—à–µ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏",
          },
          –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å: {
            high: "–û—Ç–∫–ª—é—á–∏—Ç–µ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Ä–µ–∫–ª–∞–º—É –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤",
            medium:
              "–†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ä–µ–∫–ª–∞–º—ã",
            low: "–í—ã —Ö–æ—Ä–æ—à–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏",
          },
          "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏": {
            high: "–ù–∞—á–Ω–∏—Ç–µ —É–¥–∞–ª—è—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã",
            medium: "–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏ —É–¥–∞–ª–∏—Ç–µ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã",
            low: "–û—Ç–ª–∏—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ü–∏—Ñ—Ä–æ–≤—ã–º–∏ –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏",
          },
          –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥: {
            high: "–†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∞–∫—Ç–∏–≤–Ω—ã–µ —Å–µ—Å—Å–∏–∏ –≤ –∞–∫–∫–∞—É–Ω—Ç–∞—Ö",
            medium: "–£–¥–µ–ª—è–π—Ç–µ –±–æ–ª—å—à–µ –≤–Ω–∏–º–∞–Ω–∏—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥—É –∞–∫–∫–∞—É–Ω—Ç–æ–≤",
            low: "–í—ã –∞–∫—Ç–∏–≤–Ω–æ —Å–ª–µ–¥–∏—Ç–µ –∑–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é –∞–∫–∫–∞—É–Ω—Ç–æ–≤",
          },
          –û—Å–≤–µ–¥–æ–º–ª–µ–Ω–Ω–æ—Å—Ç—å: {
            high: "–ò–∑—É—á–∞–π—Ç–µ –ø–æ–ª–∏—Ç–∏–∫–∏ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤",
            medium: "–ü–æ–≤—ã—à–∞–π—Ç–µ –æ—Å–≤–µ–¥–æ–º–ª–µ–Ω–Ω–æ—Å—Ç—å –æ —Ü–∏—Ñ—Ä–æ–≤–æ–π –≥–∏–≥–∏–µ–Ω–µ",
            low: "–í—ã —Ö–æ—Ä–æ—à–æ –∏–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω—ã –æ —Ü–∏—Ñ—Ä–æ–≤–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏",
          },
          "–ó–∞—â–∏—Ç–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤": {
            high: "–°—Ä–æ—á–Ω–æ –æ–±–Ω–æ–≤–∏—Ç–µ –ü–û –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∞–Ω—Ç–∏–≤–∏—Ä—É—Å",
            medium: "–†–µ–≥—É–ª—è—Ä–Ω–µ–µ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ",
            low: "–û—Ç–ª–∏—á–Ω–∞—è –∑–∞—â–∏—Ç–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤",
          },
          "–ü—Ä–∞–≤–∞ –Ω–∞ –¥–∞–Ω–Ω—ã–µ": {
            high: "–ò–∑—É—á–∏—Ç–µ, –∫–∞–∫ –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å —É–¥–∞–ª–µ–Ω–∏–µ –≤–∞—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö",
            medium: "–£–∑–Ω–∞–π—Ç–µ –±–æ–ª—å—à–µ –æ —Å–≤–æ–∏—Ö –ø—Ä–∞–≤–∞—Ö –Ω–∞ –¥–∞–Ω–Ω—ã–µ",
            low: "–í—ã –∑–Ω–∞–µ—Ç–µ —Å–≤–æ–∏ –ø—Ä–∞–≤–∞ –Ω–∞ –∑–∞—â–∏—Ç—É –¥–∞–Ω–Ω—ã—Ö",
          },
          "–°–µ—Ç–µ–≤–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å": {
            high: "–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–π Wi-Fi –¥–ª—è –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π",
            medium: "–ë—É–¥—å—Ç–µ –æ—Å—Ç–æ—Ä–æ–∂–Ω–µ–µ —Å –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ —Å–µ—Ç—è–º–∏",
            low: "–í—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —Å–µ—Ç–µ–≤—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è",
          },
          "–ó–∞—â–∏—Ç–∞ –¥–∞–Ω–Ω—ã—Ö": {
            high: "–ù–∞—á–Ω–∏—Ç–µ —Ä–µ–≥—É–ª—è—Ä–Ω–æ –¥–µ–ª–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ –≤–∞–∂–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö",
            medium: "–£–ª—É—á—à–∏—Ç–µ –ø—Ä–∞–∫—Ç–∏–∫—É —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è",
            low: "–û—Ç–ª–∏—á–Ω–∞—è –∑–∞—â–∏—Ç–∞ –≤–∞–∂–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö",
          },
        };

        return recommendations[category]
          ? recommendations[category][riskLevel]
          : "–†–∞–±–æ—Ç–∞–π—Ç–µ –Ω–∞–¥ —É–ª—É—á—à–µ–Ω–∏–µ–º –≤ —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏";
      }

      // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
      function showResults() {
        var categoryScores = calculateCategoryScores();
        var totalMax = 0;
        var categories = getCategories();

        // –°—á–∏—Ç–∞–µ–º –æ–±—â–∏–π –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–ª
        for (var i = 0; i < categories.length; i++) {
          totalMax += categoryScores[categories[i]].max;
        }

        var riskPercentage = Math.round((totalRisk / totalMax) * 100);
        if (riskPercentage < 0) riskPercentage = 0;
        if (riskPercentage > 100) riskPercentage = 100;

        var message = "";
        var color = "";

        if (riskPercentage >= 70) {
          message = "üî¥ –í–´–°–û–ö–ò–ô –†–ò–°–ö";
          color = "#dc3545";
        } else if (riskPercentage >= 40) {
          message = "üü° –°–†–ï–î–ù–ò–ô –†–ò–°–ö";
          color = "#ffc107";
        } else {
          message = "üü¢ –ù–ò–ó–ö–ò–ô –†–ò–°–ö";
          color = "#28a745";
        }

        // –°–æ–∑–¥–∞–µ–º HTML –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–º–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏
        var categoriesHTML = "";
        for (var i = 0; i < categories.length; i++) {
          var cat = categories[i];
          var catPercentage = Math.round(
            (categoryScores[cat].total / categoryScores[cat].max) * 100
          );
          if (catPercentage < 0) catPercentage = 0;

          var catMessage = "";
          var recommendation = "";

          if (catPercentage >= 70) {
            catMessage = "–í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫";
            recommendation = getCategoryRecommendation(cat, "high");
          } else if (catPercentage >= 40) {
            catMessage = "–°—Ä–µ–¥–Ω–∏–π —Ä–∏—Å–∫";
            recommendation = getCategoryRecommendation(cat, "medium");
          } else {
            catMessage = "–ù–∏–∑–∫–∏–π —Ä–∏—Å–∫";
            recommendation = getCategoryRecommendation(cat, "low");
          }

          categoriesHTML += '<div class="category-result">';
          categoriesHTML += "<h4>" + cat + "</h4>";
          categoriesHTML +=
            '<div class="category-bar"><div class="category-fill" style="width: ' +
            catPercentage +
            "%; background-color: " +
            color +
            ';"></div></div>';
          categoriesHTML +=
            "<p>" +
            catMessage +
            " (" +
            categoryScores[cat].total +
            " –±–∞–ª–ª–æ–≤)</p>";
          categoriesHTML +=
            '<p class="category-recommendation"><small>' +
            recommendation +
            "</small></p>";
          categoriesHTML += "</div>";
        }

        var resultsContainer = document.getElementById("results");
        if (resultsContainer) {
          resultsContainer.innerHTML =
            '<div class="overall-risk">' +
            "<h3>–û–±—â–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: " +
            message +
            "</h3>" +
            '<div class="risk-bar"><div class="risk-fill" style="width: ' +
            riskPercentage +
            "%; background-color: " +
            color +
            ';"></div></div>' +
            "<p>" +
            totalRisk +
            " –±–∞–ª–ª–æ–≤ –∏–∑ " +
            totalMax +
            " –≤–æ–∑–º–æ–∂–Ω—ã—Ö (" +
            riskPercentage +
            "%)</p>" +
            "</div>" +
            '<div class="category-breakdown">' +
            "<h3>–î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º:</h3>" +
            categoriesHTML +
            "</div>" +
            '<div class="recommendations">' +
            "<h1>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ü–∏—Ñ—Ä–æ–≤–æ–π –≥–∏–≥–∏–µ–Ω–µ:</h1>" +
            "<ul>" +
            "<li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ–Ω–µ–¥–∂–µ—Ä –ø–∞—Ä–æ–ª–µ–π –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Å–ª–æ–∂–Ω—ã—Ö –ø–∞—Ä–æ–ª–µ–π</li>" +
            "<li>–í–∫–ª—é—á–∏—Ç–µ –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –≤–æ –≤—Å–µ—Ö –≤–∞–∂–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö</li>" +
            "<li>–†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ –≤ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç—è—Ö</li>" +
            "<li>–ù–µ –ø—É–±–ª–∏–∫—É–π—Ç–µ –ª–∏—á–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏ –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏</li>" +
            "<li>–£–¥–∞–ª—è–π—Ç–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã –∏ —Ä–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∞–∫—Ç–∏–≤–Ω—ã–µ —Å–µ—Å—Å–∏–∏</li>" +
            "<li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ VPN –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –∫ –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–º—É Wi-Fi</li>" +
            "<li>–†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –∏ –∞–Ω—Ç–∏–≤–∏—Ä—É—Å–Ω–æ–µ –ü–û</li>" +
            "<li>–û—Å—Ç–æ—Ä–æ–∂–Ω–æ –æ—Ç–Ω–æ—Å–∏—Ç–µ—Å—å –∫ –ø–∏—Å—å–º–∞–º –æ—Ç –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–µ–π –∏ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–º —Å—Å—ã–ª–∫–∞–º</li>" +
            "</ul>" +
            "</div>";

          showScreen("screen3");
        }
      }

      // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
      window.onload = function () {
        console.log("–°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞!");
        // –ü–æ–∫–∞ –Ω–µ —Ä–µ–Ω–¥–µ—Ä–∏–º –≤–æ–ø—Ä–æ—Å—ã, –æ–Ω–∏ –ø–æ—è–≤—è—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ —ç–∫—Ä–∞–Ω 2
      };
    </script>
  </body>
</html>
